{"modules":[{"id":"1a3d13b8-2657-4283-b2d1-d90e21f734ce","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"d7be2e7a-a379-4808-ab40-f593c4c840ff"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":218,"y":36}}},{"id":"d7be2e7a-a379-4808-ab40-f593c4c840ff","type":"PlayPrompt","branches":[{"condition":"Success","transition":"636c2a0d-8f41-49fe-97a3-11825e6c77be"}],"parameters":[{"name":"Text","value":"<speak>You have reached the Emergency Notification system.  You will be prompted to enter the phone number of the  team member you want notified.  You will also be offered the opportunity to enter additional notification numbers. </speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":237,"y":257},"useDynamic":false}},{"id":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1419,"y":628}}},{"id":"636c2a0d-8f41-49fe-97a3-11825e6c77be","type":"StoreUserInput","branches":[{"condition":"Success","transition":"4480c37f-e6fe-4b57-8323-fd8dee35b41b"},{"condition":"InvalidNumber","transition":"1fc33730-2514-4062-bb99-a897224cd5b3"},{"condition":"Error","transition":"1fc33730-2514-4062-bb99-a897224cd5b3"}],"parameters":[{"name":"Text","value":"<speak>Enter the 10 digit telephone number you would the notification system to contact.  Please enter the Area Code and then the number for a total of 10 digits.  There is no need to enter 1, just the area code and number!</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"CustomerInputType","value":"PhoneNumber"},{"name":"Timeout","value":"5"},{"name":"PhoneNumberFormat","value":"Local"},{"name":"CountryCode","value":"US"}],"metadata":{"position":{"x":251,"y":476},"useDynamic":false,"useDynamicForEncryptionKeys":true,"countryCodePrefix":"+1"}},{"id":"1fc33730-2514-4062-bb99-a897224cd5b3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"636c2a0d-8f41-49fe-97a3-11825e6c77be"}],"parameters":[{"name":"Text","value":"<speak>We either did not get all the digits or the number you entered was invalid, so let's try that again!</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":231,"y":769},"useDynamic":false}},{"id":"4480c37f-e6fe-4b57-8323-fd8dee35b41b","type":"SetAttributes","branches":[{"condition":"Success","transition":"3591f636-d851-402a-974d-4a39e4b8e45c"},{"condition":"Error","transition":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"customerPhoneNumber","namespace":"System"}],"metadata":{"position":{"x":494,"y":542}}},{"id":"7edf5ece-f753-475f-a013-45a0c97a063e","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"636c2a0d-8f41-49fe-97a3-11825e6c77be"},{"condition":"Timeout","transition":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2"},{"condition":"NoMatch","transition":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2"},{"condition":"Error","transition":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2"}],"parameters":[{"name":"Text","value":"<speak>You have successfully sent a notification request, if you would like to enter another request please press 1 or just hang up.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1015,"y":416},"conditionMetadata":[{"id":"dfb80f29-be02-4987-a84a-13c646db05b1","value":"1"}],"useDynamic":false},"target":"Digits"},{"id":"52f1e3cd-67e0-4585-9ac6-73442064d15e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8a5b9798-01a6-48bb-9ad7-6a350a6bc6a2"}],"parameters":[{"name":"Text","value":"<speak>We seem to have encountered a system error.  Please notify the system administrator and try your call again later.\n<say-as interpret-as=\"telephone\">$.Attributes.number </say-as> \n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1458,"y":269},"useDynamic":false}},{"id":"3591f636-d851-402a-974d-4a39e4b8e45c","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"2ada78d6-6d8d-4211-b8d7-fa1c04dc4e26"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"636c2a0d-8f41-49fe-97a3-11825e6c77be"},{"condition":"Timeout","transition":"1fc33730-2514-4062-bb99-a897224cd5b3"},{"condition":"NoMatch","transition":"1fc33730-2514-4062-bb99-a897224cd5b3"},{"condition":"Error","transition":"1fc33730-2514-4062-bb99-a897224cd5b3"}],"parameters":[{"name":"Text","value":"<speak> The number you entered was\n<say-as interpret-as=\"telephone\">$.Attributes.customerPhoneNumber</say-as> Press 1 to confirm, or Press 2 to re-enter the number!\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":718,"y":46},"conditionMetadata":[{"id":"3aa889dd-6c0e-4768-b006-c4b465553c4d","value":"1"},{"id":"322f6c07-4b93-4fab-80ed-fea4fe19b4c9","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"2ada78d6-6d8d-4211-b8d7-fa1c04dc4e26","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"7edf5ece-f753-475f-a013-45a0c97a063e"},{"condition":"Error","transition":"52f1e3cd-67e0-4585-9ac6-73442064d15e"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-west-2:495506161078:function:DrVoIP-OutboundDialer","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"number","value":"customerPhoneNumber","namespace":"User Defined"}],"metadata":{"position":{"x":1040,"y":74},"dynamicMetadata":{"number":true},"useDynamic":false},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"1a3d13b8-2657-4283-b2d1-d90e21f734ce","metadata":{"entryPointPosition":{"x":42,"y":167},"snapToGrid":false,"name":"1-EnterNotifyNumber","description":"Routine to enter phone number into the Unwelcome Patient Notification System.","type":"contactFlow","status":"published","hash":"b7808cf797348ecf03c87b825cea307e7ba44d4a502a66f11188f0df39447abe"}}