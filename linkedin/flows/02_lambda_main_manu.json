{"modules":[{"id":"eae9a07d-ea84-48a7-9021-ec308325380e","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[],"metadata":{"position":{"x":1873,"y":28.99999491373697},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"bedee508-fcc8-4cde-a6d3-8d3202e08df5","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1886,"y":355.99999491373694}}},{"id":"74aefab2-1e6b-4976-adda-db29568d9d0f","type":"SetEventHook","branches":[{"condition":"Success","transition":"eae9a07d-ea84-48a7-9021-ec308325380e"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[{"name":"Type","value":"CustomerQueue"},{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/contact-flow/7e18bdab-e9bd-4ac8-93fb-77a7878ad11f","resourceName":"Dottami Callback in Queue"}],"metadata":{"position":{"x":1533,"y":39.99999491373697},"contactFlow":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/contact-flow/7e18bdab-e9bd-4ac8-93fb-77a7878ad11f","text":"Dottami Callback in Queue"},"customerOrAgent":false,"useDynamic":false}},{"id":"c80371bb-69ef-4270-a3a1-6f41cbfd34ce","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bedee508-fcc8-4cde-a6d3-8d3202e08df5"}],"parameters":[{"name":"Text","value":"<speak>We are currently closed. Please call back <break time=\"10ms\"/> between Monday to Friday <break time=\"10ms\"/> 9 am to 5 pm <break time=\"100ms\"/> and Saturday 9-12 <break time=\"50ms\"/> or 1-3. Goodbye!</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1308,"y":375.99999491373694},"useDynamic":false}},{"id":"a817dfb5-05ad-4a52-99ad-c575cd2fccff","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bedee508-fcc8-4cde-a6d3-8d3202e08df5"}],"parameters":[{"name":"Text","value":"We apologise, there have been a fault, please try again later. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1586,"y":283.99999491373694},"useDynamic":false}},{"id":"277d86c5-c330-4a79-a867-bfb436a3c72c","type":"CheckHoursOfOperation","branches":[{"condition":"True","transition":"74aefab2-1e6b-4976-adda-db29568d9d0f"},{"condition":"False","transition":"c80371bb-69ef-4270-a3a1-6f41cbfd34ce"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[],"metadata":{"position":{"x":1222,"y":29.99999491373697}}},{"id":"3ce9c7f0-4602-4393-ac09-2b36f9028744","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1898,"y":590.9999949137369}}},{"id":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d","type":"SetQueue","branches":[{"condition":"Success","transition":"277d86c5-c330-4a79-a867-bfb436a3c72c"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/4b213711-32cb-4953-9cc4-b71ff393de5c","namespace":null,"resourceName":"Service"}],"metadata":{"position":{"x":911,"y":14.99999491373697},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/4b213711-32cb-4953-9cc4-b71ff393de5c","text":"Service"}}},{"id":"d33bbdc1-8664-4b7f-9083-e3e73e5430e3","type":"SetQueue","branches":[{"condition":"Success","transition":"277d86c5-c330-4a79-a867-bfb436a3c72c"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/265f656b-9128-4269-979e-3134dc01ae73","namespace":null,"resourceName":"Sales"}],"metadata":{"position":{"x":992,"y":219.99999491373697},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/265f656b-9128-4269-979e-3134dc01ae73","text":"Sales"}}},{"id":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3ce9c7f0-4602-4393-ac09-2b36f9028744"}],"parameters":[{"name":"Text","value":"We apologise, there have been a fault, please try again later. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":981,"y":578.9999949137369},"useDynamic":false}},{"id":"07aca1a1-8be5-42ae-9e30-be638f2936ad","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"d33bbdc1-8664-4b7f-9083-e3e73e5430e3"},{"condition":"Timeout","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"},{"condition":"NoMatch","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Text","value":"Please press 1 for service or 2 for sales","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":631,"y":15.99999491373697},"conditionMetadata":[{"id":"57f74a30-6f5e-44ce-b5f9-4959a3a5f1d1","value":"1"},{"id":"8020834f-fb5d-423f-a163-ee6d37c699e6","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"266ca3eb-2920-4d9d-8716-2fba1727343b","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"07aca1a1-8be5-42ae-9e30-be638f2936ad"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":683,"y":624}}},{"id":"42727608-61b9-4209-b53c-9f1d78500028","type":"PlayPrompt","branches":[{"condition":"Success","transition":"266ca3eb-2920-4d9d-8716-2fba1727343b"}],"parameters":[{"name":"Text","value":"<speak>Welcome back $.External.firstName<break time=\"250ms\"/> Thank you for calling <phoneme alphabet=\"ipa\" ph=\"dətɑˈmi\">Dottami</phoneme> Inc.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":461,"y":817},"useDynamic":false}},{"id":"1bd8284e-1faa-408f-9be9-d092f6f65cbc","type":"PlayPrompt","branches":[{"condition":"Success","transition":"266ca3eb-2920-4d9d-8716-2fba1727343b"}],"parameters":[{"name":"Text","value":"<speak>Welcome to <phoneme alphabet=\"ipa\" ph=\"dətɑˈmi\">Dottami</phoneme> Inc. <break time=\"250ms\"/>Your renewable energy company.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":162,"y":642},"useDynamic":false}},{"id":"413af18a-264b-4863-a53e-fe6e73edfee9","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"42727608-61b9-4209-b53c-9f1d78500028"},{"condition":"NoMatch","transition":"1bd8284e-1faa-408f-9be9-d092f6f65cbc"}],"parameters":[{"name":"Attribute","value":"result"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":397,"y":368},"conditionMetadata":[{"id":"6cb32404-ea4e-4cda-b50c-a85f5ebf23ec","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"55da77a6-6473-4609-8193-e841822940cf","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"413af18a-264b-4863-a53e-fe6e73edfee9"},{"condition":"Error","transition":"1bd8284e-1faa-408f-9be9-d092f6f65cbc"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:960145048816:function:getCustomerDetails","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":368,"y":14},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"2767dddc-fa7e-4db8-a86d-43a620a9de0a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"268c1246-19bf-40d7-b0bc-f2286bbd00dc"}],"parameters":[{"name":"Text","value":"This is for testing the Lambda IVR.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":57,"y":182},"useDynamic":false}},{"id":"268c1246-19bf-40d7-b0bc-f2286bbd00dc","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"55da77a6-6473-4609-8193-e841822940cf"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":56,"y":415}}}],"version":"1","type":"contactFlow","start":"2767dddc-fa7e-4db8-a86d-43a620a9de0a","metadata":{"entryPointPosition":{"x":38,"y":27.99999491373697},"snapToGrid":false,"name":"Dottami Main Menu w/ Lambda","description":"Dottami Main Menu w/ Lambda","type":"contactFlow","status":"published","hash":"46d1f64a49d29f3f45d7df65c5fab3032be434aab4f3417ff3e9c320226b378f"}}