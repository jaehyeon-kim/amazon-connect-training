{"modules":[{"id":"eae9a07d-ea84-48a7-9021-ec308325380e","type":"Transfer","branches":[{"condition":"AtCapacity","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[],"metadata":{"position":{"x":1849.999968210856,"y":28.99998855590816},"useDynamic":false,"queue":null},"target":"Queue"},{"id":"bedee508-fcc8-4cde-a6d3-8d3202e08df5","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1862.999968210856,"y":355.9999885559081}}},{"id":"74aefab2-1e6b-4976-adda-db29568d9d0f","type":"SetEventHook","branches":[{"condition":"Success","transition":"eae9a07d-ea84-48a7-9021-ec308325380e"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[{"name":"Type","value":"CustomerQueue"},{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/contact-flow/7e18bdab-e9bd-4ac8-93fb-77a7878ad11f","resourceName":"Dottami Callback in Queue"}],"metadata":{"position":{"x":1509.999968210856,"y":39.99998855590816},"contactFlow":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/contact-flow/7e18bdab-e9bd-4ac8-93fb-77a7878ad11f","text":"Dottami Callback in Queue"},"customerOrAgent":false,"useDynamic":false}},{"id":"c80371bb-69ef-4270-a3a1-6f41cbfd34ce","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bedee508-fcc8-4cde-a6d3-8d3202e08df5"}],"parameters":[{"name":"Text","value":"<speak>We are currently closed. Please call back <break time=\"10ms\"/> between Monday to Friday <break time=\"10ms\"/> 9 am to 5 pm <break time=\"100ms\"/> and Saturday 9-12 <break time=\"50ms\"/> or 1-3. Goodbye!</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1284.999968210856,"y":375.9999885559081},"useDynamic":false}},{"id":"a817dfb5-05ad-4a52-99ad-c575cd2fccff","type":"PlayPrompt","branches":[{"condition":"Success","transition":"bedee508-fcc8-4cde-a6d3-8d3202e08df5"}],"parameters":[{"name":"Text","value":"We apologise, there have been a fault, please try again later. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1562.999968210856,"y":283.9999885559081},"useDynamic":false}},{"id":"3ce9c7f0-4602-4393-ac09-2b36f9028744","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1874.999968210856,"y":590.9999885559082}}},{"id":"277d86c5-c330-4a79-a867-bfb436a3c72c","type":"CheckHoursOfOperation","branches":[{"condition":"True","transition":"74aefab2-1e6b-4976-adda-db29568d9d0f"},{"condition":"False","transition":"c80371bb-69ef-4270-a3a1-6f41cbfd34ce"},{"condition":"Error","transition":"a817dfb5-05ad-4a52-99ad-c575cd2fccff"}],"parameters":[],"metadata":{"position":{"x":1198.999968210856,"y":29.99998855590816}}},{"id":"42727608-61b9-4209-b53c-9f1d78500028","type":"PlayPrompt","branches":[{"condition":"Success","transition":"266ca3eb-2920-4d9d-8716-2fba1727343b"}],"parameters":[{"name":"Text","value":"<speak>Welcome back $.External.firstName<break time=\"250ms\"/> Thank you for calling <phoneme alphabet=\"ipa\" ph=\"dətɑˈmi\">Dottami</phoneme> Inc.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":457.999968210856,"y":818.9999987284343},"useDynamic":false}},{"id":"268c1246-19bf-40d7-b0bc-f2286bbd00dc","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"55da77a6-6473-4609-8193-e841822940cf"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":55.999968210856025,"y":416.9999987284342}}},{"id":"05c31ccd-5e49-449f-935b-1436020b3d1b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"268c1246-19bf-40d7-b0bc-f2286bbd00dc"}],"parameters":[{"name":"Text","value":"This is for testing the Lex IVR.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":59.999968210856025,"y":205.9999987284342},"useDynamic":false}},{"id":"55da77a6-6473-4609-8193-e841822940cf","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"413af18a-264b-4863-a53e-fe6e73edfee9"},{"condition":"Error","transition":"1bd8284e-1faa-408f-9be9-d092f6f65cbc"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:960145048816:function:getCustomerDetails","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":358.999968210856,"y":26.99999872843422},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"413af18a-264b-4863-a53e-fe6e73edfee9","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"42727608-61b9-4209-b53c-9f1d78500028"},{"condition":"NoMatch","transition":"1bd8284e-1faa-408f-9be9-d092f6f65cbc"}],"parameters":[{"name":"Attribute","value":"result"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":350.999968210856,"y":311.9999987284342},"conditionMetadata":[{"id":"07790215-2b4d-4ed7-ad15-fdd4211810b2","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"1bd8284e-1faa-408f-9be9-d092f6f65cbc","type":"PlayPrompt","branches":[{"condition":"Success","transition":"266ca3eb-2920-4d9d-8716-2fba1727343b"}],"parameters":[{"name":"Text","value":"<speak>Welcome to <phoneme alphabet=\"ipa\" ph=\"dətɑˈmi\">Dottami</phoneme> Inc. <break time=\"250ms\"/>Your renewable energy company.</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":204.66665522257483,"y":632.6666603088379},"useDynamic":false}},{"id":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d","type":"SetQueue","branches":[{"condition":"Success","transition":"277d86c5-c330-4a79-a867-bfb436a3c72c"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/4b213711-32cb-4953-9cc4-b71ff393de5c","namespace":null,"resourceName":"Service"}],"metadata":{"position":{"x":887.999968210856,"y":14.99998855590816},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/4b213711-32cb-4953-9cc4-b71ff393de5c","text":"Service"}}},{"id":"d33bbdc1-8664-4b7f-9083-e3e73e5430e3","type":"SetQueue","branches":[{"condition":"Success","transition":"277d86c5-c330-4a79-a867-bfb436a3c72c"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Queue","value":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/265f656b-9128-4269-979e-3134dc01ae73","namespace":null,"resourceName":"Sales"}],"metadata":{"position":{"x":936.999968210856,"y":218.9999936421712},"useDynamic":false,"queue":{"id":"arn:aws:connect:us-east-1:960145048816:instance/bc7765fc-35f0-45fb-8559-f5e51f3db1fb/queue/265f656b-9128-4269-979e-3134dc01ae73","text":"Sales"}}},{"id":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3ce9c7f0-4602-4393-ac09-2b36f9028744"}],"parameters":[{"name":"Text","value":"We apologise, there have been a fault, please try again later. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1174.999968210856,"y":564.9999885559082},"useDynamic":false}},{"id":"266ca3eb-2920-4d9d-8716-2fba1727343b","type":"SetRecordingBehavior","branches":[{"condition":"Success","transition":"07aca1a1-8be5-42ae-9e30-be638f2936ad"}],"parameters":[{"name":"RecordingBehaviorOption","value":"Enable"},{"name":"RecordingParticipantOption","value":"Both"}],"metadata":{"position":{"x":675.999968210856,"y":640.9999987284343}}},{"id":"07aca1a1-8be5-42ae-9e30-be638f2936ad","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"collectMeterReadings","transition":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"fault","transition":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"makeAPayment","transition":"ed3c5f5e-ee91-4f4f-b53d-deac528dec4d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"disconnect","transition":"d33bbdc1-8664-4b7f-9083-e3e73e5430e3"},{"condition":"NoMatch","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"},{"condition":"Error","transition":"9140cbf1-70e7-457a-9b0c-b9b85ed87cf9"}],"parameters":[{"name":"Text","value":"How can I help you?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"DottamiBot"},{"name":"BotAlias","value":"mybot"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":607.999968210856,"y":15.99998855590816},"conditionMetadata":[{"id":"00ed5f86-74cc-442a-afcb-94389987cf3f","value":"collectMeterReadings"},{"id":"19de2c44-bea7-43b2-83fc-dad57a04cf6b","value":"fault"},{"id":"e6ed3725-f064-46c4-b21b-4292348e4ed0","value":"makeAPayment"},{"id":"b6c54a55-7ba5-4f58-ae4e-e2dcaca9e205","value":"disconnect"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"}],"version":"1","type":"contactFlow","start":"05c31ccd-5e49-449f-935b-1436020b3d1b","metadata":{"entryPointPosition":{"x":14.999968210856025,"y":27.99998855590816},"snapToGrid":false,"name":"Dottami Main Menu w/ Lex","description":"Dottami Main Menu w/ Lex","type":"contactFlow","status":"published","hash":"eb04bbbdf44964f6219b4ea090b5365b48fa75953adbcda6078675d38c04f15b"}}